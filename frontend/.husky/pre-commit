#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run lint-staged to format and lint staged files
npx lint-staged

# Run TypeScript type checking
npx tsc --noEmit

# Run ESLint on staged files
npx eslint --fix $(git diff --cached --name-only --diff-filter=ACM | grep -E "\.(js|jsx|ts|tsx)$" | tr '\n' ' ')

# Check for ClarityOSâ„¢ compliance in UI components
echo "ğŸ” Checking ClarityOSâ„¢ compliance..."
# This would be a custom script to check for design doctrine compliance
# For now, we'll add a reminder
echo "âœ… Pre-commit checks passed"
echo "ğŸ“‹ Remember to verify ClarityOSâ„¢ compliance in UI changes"
